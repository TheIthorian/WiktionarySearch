<!DOCTYPE HTML>

<html>

<head>
    <link rel="icon"
        href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOIAAADfCAMAAADcKv+WAAAAflBMVEX39/cAAAD////7+/v09PTj4+Pg4ODR0dHw8PDCwsLW1tZCQkJ/f3/r6+uQkJB4eHiGhoZMTEzKyso6Ojq7u7u0tLQtLS0yMjKpqaleXl6ioqIiIiJRUVFnZ2eurq7Ozs4YGBgeHh6ampoNDQ1vb2+dnZ1ZWVk+Pj5ra2tHR0dzAOUrAAAK6ElEQVR4nO1d6XqyPBCFDAJSAUXc37pW297/DX5grR8KmSGQBftwfraPZA5ZZs1gWT169OjRo0ePHioABZiWRS4AWA7LCd3A2yVJ4nnBwLGuf3x5rldyYZAeR5fp3n7C/nM1Xg9d53V5ZuwsN41WJWrPWMRLz385nhk9Z3e8nCh2/+NzlIYZTdOC1wQwcNeX+uzumEaJ8wIsM37JaNOA3w2rbdjpJXvlR9M4ZUD+/S9naZpKNYAFY0T00yQ+p8HA/9EgzArd3ewcTyp/cZl1cMUCc7bfXHrz0WxgXbVgQXC4qhRrMIzeKn4Se8DM0SkDmMtfoJeli6mEnGiYxofS7xZrvzNTCWy34vH73vo1dEFGE7yKVT4KsN/ma0ALgKVVC+2KsVt/HjKWw/Kbmgx5TwAnno9kkUAFg9mcw2++BcGFBiyMKh5jVU0W+Llqelc+j9kM8ghO0ybLKDu11ofnR+3PFSThZ+ns1O5WYMknbwbTxicFg2V5Ux6flQi7TXesdBqZy7XS1q0MFGYdy4+MHo5Xltz+vFFIkTlcNRE7bcdlflzx2OD3bM6O8Ptf/fZUqgFsxiO48CS8WGDetPzo6XpwtYzCwtsNFG1G5v7jMYwkqWtg56rHbz7G8YMVNVRCEdiaR3ATyNsbzOXq2wK2KiiywYQ33pclc0BgZS1ZwlnBecPfhfZa9nBsR4ZFjtIpAnxwR9vJf6HgUOED6YqRuVyPfj9QoaLIxSrbhGMpd6ipr+r05o+Z459cisgb/XaUGYvMwyjOZVIEeOcONFEZUoIQi3dJHBgcns1t259SlUV5aL/C1PmFI2+YwYG/WFSHBQH4VoAra2zm8t/jPlQeYgHgWoyepMHRLS/tPSIA4JlUqZzRUYZDLUEicDhrdSmFIgsQhtKtNg7Aqo6hRDLGB2Qf2l/aAroQVkbOZVhwMEAYbto/v74gla961Z7iTzSPBx1HzR1sWCHBVIIEiNrVthFvqPLFD60pMm4s35ZuA9eQpiJs1TZAxcYIQ1u9zn8GlNfUoJ0QiIufYak/PQZhSYp2AXHAFKL9bSIBWHYf25k3Dpq113qa3sGeQ9StjjzGdxAzjA1lcWEuTw62xBhKdNTE8Lx7WthXqFVj21tjqfin+Mpbc0EY38vPMDVYbMAWRUma635WkQErQE0uoR7g0bdrqvtR98K2J0YrRh5P1aYnO+NX0eRQnICm4BT9qqSZLMRpqt04fRavaHXNGlGssJMe0PDFyUNxkTXL3FRZ9AUYMd0eUFSOjfx+3DY1e5zewP7PkF2aUCTOGql5hIYoGCaLJgU+VQGEAgw4UWUUPNkGv4YFws82Z50+wrnLI+6ZA+oHm3MxnvC/qSpemEJNYstIgiyA/yuQsFMMeFrWuNq/4z6NwjF/hkUV7abGhALcp1F051DHaUcOmxy/1rioYmTcTN4P1JZHCuFXN+7FRCKcKOM+xgN+TRwxiqUA1xME35ha3KbxICaTgzO0R12ieAtNiMkEW4KicTfqEbkZ90/sAGTcKsUbusUwEzgMBQ8bPLBo2x+dWqdNUF3KW4Ck+giDoCwbddXmukAqxRaR546ACA9LqgAxCvI87UDQpiV8guEf2IqUk/EHtiIePe1MSKMFGHVb/eW1ImnadCVq0xxU0MY+mZawNfAyItt0UlEGiDB/13zFJmDUVpRTwGsQpIHaNXdYHORp8/oHKn1b0LSErYGXg9ndSCu2A+kON8rGdgvUOu1QHLwZaPNN/p1WzaBKGP6CWiR1xsu7/IDXS9ny7pgZA60WVfV60AYqJfUXjBv+hf0bXj42hV6rueLVJ5GOof4Bimgp+N+gSJmoghn1DoIRNVN/gSKv3VlP8YVAU+zQcQPPYBUo/cogxUoB+QDHCcOB6wZBkCTDNJ1tt8v1OjpG43Ecx19fq8vl++1tcizJS5+oqigyN1q9XVbvH/E4Oh5zSa+yxu85VhneMsw3mw3ZpekRpdILYxQhoQZuiud6HDIWrurmMP1um+LZqKYqGJXdOgVVDDfP8pIxRlX+orJZLAXvyRSxqng/BILHSA1ML/G5XDhGpt6UVUwDC9LZMPGCwEtm6/GlHePVMQl/dEtpILI2TGG3iUcdDoMZ6Z5XYxF5FtLdmrqdobGYISNq8Xs8c/EREM2tafWkvvdxURw2JF2fB8QDsm0pnV7UXHVTq7HmLz5rte8mS6e02+Gstt1Ts/EsHKgHaW+Mwgb1vjoyq7m+aPNGfzicTrTkqN1FgY4VK2maSwhFZlpEkoJ0UsNECRxtV9r125YC2qQzh4k0MXU3XawaiLqFIqGTVQOQtrNITpAObejvNVVDX4sIRSdujCRRiUxEySvE0M3zhhJL6FIsrYSMFE4TdRZi93/oEEOoigcGPCwgtrJoHWRmM6I2iViHe/Jmn6HNiFo4YqUytJpt0s6iNfDNKBhuoYNhRkoaAPM3BG8d0E6okQoq1AcSPB5otWGkAh49b0RPQDpVbMKGQ4ODwhSp231GVip6pIpSpCs2TaxU1M0TVtV0dMPASkVfvDBFOmBsovAWCw6KG1yknWrCL8aEEqdIq0YDdio7SJ1F0ogzEMHBrK4GKUHa99dvxGGOf4PgLp3b0H+ZASskbRK/pr1G/YF/ZGU1oUhPo/YGBrIpWuyL4qi7wxYWS21EsXvTKJ1ijcoGVV8/4wmEeFMNS2XI0L/mW8XYO29IkehUbOvWjQooWoyql5DwRRkRcRRQ7NjVaey4abyeSGtc661bJRTJJqla/UaMYnNTiw7GafxiCGbdtLjJRdbEaWweroiixaiPyer7yBTmabRZS0AaANqWKhY0a/d9oh3/wVd86ppGzOtv+ZUpysjRlYtDYjf7liuJLgjRwxGJwLXWz2TkWE8AAImjti4/AIeoxZHxaUBaCsScbB8PJGOOOhqmYi34ZHxhkjLINRhymBUiIxyIfus1R6qcI6b5pcRYGKUePcUcAcvaiNWk8IB/at1WbuWgeXBJ92MojielqgM3smQ1o8e+EJ7joJAj+GgJvLSRwcUvMm3UcUQ+8m5L7bcPIV51tFEVkiMyLDKvqoGDu48nV8m5SljJdS9o1ANQNrkK3YEXMS6kv9aqbzsXId8GwN/qkXuLr8WIhBFQ8+ZS/fEwhpeBkp0BIV6KvnJk7n7spFkMJb/OwrB40uoQSHu1YPHPt9NWFcEclR+UL2AtaXBMS50dtVYx+HiTqomUPcI8rk0TKSZo5YuVKCKTMJH8wFjkawkXsRCfyOmuHUlweNUGGmbwVwaW4jbrF313mQ+2OxidwRvAIuoBRmFDksyp1oano7YZvIviEjmPUZOZ5G30/VI7was0CXHnYZUQvQTqPnK+rWizpAV0e4HNeVCfJWNJZc+db2WWTB1k5w6VTf5eu3VYAvOXlY96b3k8twfAkGzmuIjy5iX87h7AmJ9W6olT1OZolgZgHlk0l+nKeLkLr63CnpubwSCNqptCTWZWFwjmABaeqQ+q/EzK5CNaz5JdELgDN/CS4fL4wVsD+6hW2wxtyGYjadijphqx6GGsA8CcYY0FWwP70Q66x+8HOcu41orl4y3yOsvvB5l47pJsCczBfJSGHVyfZeRtlYL1B9kH4RGTcTpAFEv3cFV13nZE3sDKsHmPUhdeit4dV63nB+kyii9viycv/jR/W8XRNnEt9prsCvhtXmo5ju+7V4S+71jsZgaYlk82bjaNaTF69OjRo0ePHj169OihGv8BlYWBX+rs9rMAAAAASUVORK5CYII=" />
    <title>Greek Search</title>
</head>
<style>
    :root {
        /* --primary: rgb(65, 118, 65); */
        --primary: rgb(73, 93, 158);
        --secondary: rgb(245, 245, 245);
    }

    body {
        background: var(--secondary);
    }

    h1 {
        color: var(--primary);
        font-size: 36px;
    }

    .recent-container {
        padding: 20px;
    }

    li {
        margin: 5px;
        padding: 5px;
    }
    li > button {
        background: none;
        border: none;
        margin: 10px;
        cursor: pointer;
    }

    .search-container {
        display: flex;
        align-items: center;
        flex-direction: column;
    }

    form {
        display: flex;
    }

    .input-container {
        display: flex;
        flex-direction: column;
    }

    .input-container::after {
        width: 0%;
        height: 2px;
        background: var(--primary);
        transition: 300ms;
        content: "";
    }

    .input-container:hover::after,
    .input-container.conplete::after {
        width: 100%;
    }

    input, button.submit {
        font-size: 24px;
    }

    input[type="text"] {
        display: border-box;
        padding: 10px;
        border: none;
        outline: none;
        border: solid 1px;
    }

    input[type="text"]:focus {
        border: solid 2px var(--primary);
    }

    input[type="submit"], button.submit {
        padding: 10px;
        border: none;
        background-color: var(--primary);
        color: var(--secondary);
        cursor: pointer;
        margin: 5px;
    }

    input[type="submit"]:hover, button.submit:hover {
        filter: brightness(90%);
    }

    @media (max-width: 700px) {
        input {
            font-size: 18px;
        }

        form {
            flex-direction: column;
        }
    }
</style>

<body>
    <div class="search-container">
        <h1>
            Greek Search
        </h1>
        <!-- <form name="searchbox" class="searchbox" action="https://en.wiktionary.org/wiki/Special:Search" target="_blank">
            <input id="search-input" class="" name="search" type="text" autocomplete="off">
            <input type="submit" name="go" class="" value="Try exact match" onclick="logSearch(event)">
            <input type="submit" name="fulltext" class="" value="Full text search" onclick="logSearch(event)">
            <input type="button" name="test" class="" value="test text search" onclick="logSearch(event)">
        </form> -->
        <div search autocomplete="off"> 
            <input type="text" id="searchTerm" autocomplete="off" name="searchTerm"/>
            <button class="submit" onclick="Search(event)"> 
                Search
            </button>       
        </div>
    </div>
    

    <div class="recent-container" tyle="text-align:left;">
        <h2>Recent Searches:</h2>
        <ol id="history">
        </ol>
        <button onclick="clearAllHistory()">Clear all</button>
    </div>
</body>


<script>

    function Search(e){        

        var start="https://en.wiktionary.org/wiki/";
        var end="#AcientGreek";
        var searchTerm = document.getElementById("searchTerm").value;

        var link=start.concat(searchTerm, end);
        

        console.log(e, link);

        logSearch(e, link);

        window.open(link, '_blank');

    }

    class History {
        constructor(inputValue, urlValue) {
            this.input = inputValue;
            this.url = urlValue;
        }
    }

    function logSearch(e, link) {
        // Old code to use wiktionary form
        // let url = e.target.parentNode.action;
        // let type = e.target;
        // let input = document.getElementById("search-input").value;
        // console.log(url, type, input);
        // url = url + "?search=" + input + "&" + type.name + "=" + type.value.replace(/\s/g, '+') ;

        let url = link;
        let input = e.target.previousElementSibling.value;

        console.log(url);

        let history = JSON.parse(localStorage.getItem("searchHistory"));

        let repeat = false;

        // First one
        if (!history) { history = [new History(input, url)]; }

        else {
            // check if it's a repeat
            for (const record of history) {
                if (record.input == input) { repeat = true; break }
            }
            // It it's not, add it to the list
            if (!repeat) { history.push(new History(input, url)); }

            // Otherwise move it to the top
            else { 
                let index = history.length - history.findIndex(x => x.input == input) - 1;
                history = clearHistoryByIndex(index);
                history.push(new History(input, url));
            }
        }

        if (history.length > 10) { history.shift(); }

        localStorage.setItem("searchHistory", JSON.stringify(history));

        showHistory();
    }

    function showHistory() {
        let list = document.getElementById("history");
        let listDisplay = "";

        let records = JSON.parse(localStorage.getItem("searchHistory")) ? JSON.parse(localStorage.getItem("searchHistory")).reverse() : [];
        let l = records.length;

        for (let i = 0; i < l; i++) {
            let record = records[i];
            listDisplay += "<li><a target='_blank' href='" + record.url + "'>" + record.input + "</a><button id='Clear:" + i + "' value='" + i +
                "' onclick='clearHistoryByEvent(event)'>X</button></li>";
        }

        list.innerHTML = listDisplay;
    }

    function clearHistoryByEvent(e) {
        let index = e.target.value;

        clearHistoryByIndex(index);
    }

    function clearHistoryByIndex(index) {
        index = index.toString();
        let history = JSON.parse(localStorage.getItem("searchHistory"));
        let target = document.getElementById("Clear:" + index);

        history.splice(history.length - index - 1, 1);

        localStorage.setItem("searchHistory", JSON.stringify(history));

        target.parentNode.style.display = 'none'; 
        
        return history;
    }

    function clearAllHistory() {
        localStorage.removeItem("searchHistory");
        for (const listItem of document.getElementById("history").childNodes) {
            listItem.style.display = 'none';
        }
    }

    (screenload = () => {showHistory()})();




</script>



</html>